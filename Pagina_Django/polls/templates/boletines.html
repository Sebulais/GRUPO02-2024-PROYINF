{% extends 'base.html' %}

<!doctype html>
<html lang="es">
    <head>
    <title>{% block title %}Default Title{% endblock %}</title>
    </head>
<body>
    {% block content %}

    <!-- Banner -->
    <style>
        .banner {
            background-image: url("https://opia.fia.cl/601/channels-501_bg_encabezado_opia22.jpg");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: white;
            padding: 2.5em; /* Reduced vertical padding */
            text-align: left;
        }
    </style>
    <section class="banner">
        <div class="container">

            <h1>Boletines de Vigilancia e Inteligencia en Innovación</h1>

        </div>
    </section>
    <!-- Barra de búsqueda -->
    <div class="container mt-4" style="font-family: 'Roboto', sans-serif;">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="input-group input-group-lg">
                    <input id="searchInput" type="text" class="form-control" placeholder="Buscar..." onkeyup="filterNews()">
                    <button class="btn btn-light" type="button">
                        <i class="bi bi-search"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Agrega este enlace a Bootstrap Icons en el <head> de tu HTML -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Sección de noticias -->
    <section class="news-section py-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="container">
                    <h2 class="text-left mb-5" style="font-family: 'Roboto', sans-serif; font-weight: 400; font-size: 1.4em; border-bottom: 1px solid #c0c0c0; padding-bottom: 10px;">Destacados de VigiFIA</h2>
                    <div class="row g-4">
                        <div class="col-md-4">
                            <div class="card news-item">
                                <img src="https://calendarena.com/wp-content/uploads/2024/02/calendario-agosto-2024-chile-1030x728.png" class="card-img-top"
                                    alt="Noticia 1">
                                <div class="card-body">
                                    <h4 class="card-title">Boletín Agosto 2024</h4>
                                    <h5 class="card-subtle">Con las principales noticias ocurridas en Agosto</h5>
                                    <p class="card-text">Publicado el 30 de Agosto del 2024</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card news-item">
                                <img src="https://calendarena.com/wp-content/uploads/2024/02/Calendario-Septiembre-2024-Chile-1030x728.png"
                                    class="card-img-top" alt="Noticia 2">
                                <div class="card-body">
                                    <h4 class="card-title"><a href="https://opia.fia.cl/601/articles-126720_archivo_01.pdf" target="_blank" style="color: inherit; text-decoration: none;" onmouseover="this.style.fontSize='1.005em'; this.style.textDecoration='underline';" onmouseout="this.style.fontSize='1em'; this.style.textDecoration='none';" onfocus="this.style.fontSize='1.005em'; this.style.textDecoration='underline';"onblur="this.style.fontSize='1em'; this.style.textDecoration='none';">Boletín Septiembre 2024</a></h5>
                                    <h5 class="card-subtle">Con las principales noticias ocurridas en Septiembre</h5>
                                    <p class="card-text">Publicado el 27 de Septiembre del 2024</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card news-item">
                                <img src="https://calendarena.com/wp-content/uploads/2024/03/Calendario-Octubre-2024-Chile-1030x728.png"
                                    class="card-img-top" alt="Noticia 3">
                                <div class="card-body">
                                    <h4 class="card-title">Boletín Octubre 2024</h4>
                                    <h5 class="card-subtle">Con las principales noticias ocurridas en Octubre</h5>
                                    <p class="card-text">Publicado el 28 de Octubre del 2024</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <style>
        .news-item {
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
    </style>
    <script>
        function filterNews() {
            const searchQuery = document.getElementById('searchInput').value.toLowerCase(); 
            console.log("Buscando:", searchQuery); 
            const newsItems = document.querySelectorAll('.news-item'); 
    
            // Iteramos sobre cada noticia
            newsItems.forEach(function(item) {
                const title = item.querySelector('.card-title').textContent.toLowerCase();
                const subcat = item.querySelector('.card-subtle').textContent.toLowerCase();
                const summary = item.querySelector('.card-text').textContent.toLowerCase();
    
                
                console.log("Titulo:", title, "Subcategoría:", subcat, "Resumen:", summary);
    
                
                if (title.includes(searchQuery) || subcat.includes(searchQuery) || summary.includes(searchQuery)) {
                    item.style.visibility = 'visible'; 
                    item.style.opacity = 1; 
                } else {
                    item.style.visibility = 'hidden'; 
                    item.style.opacity = 0; 
                }
            });
        }
    </script>

    <!-- Agregar Bootstrap JS (si no lo tienes ya) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    {% endblock %}
</body>

</html>